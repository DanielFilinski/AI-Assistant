(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[381],{850:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var r=s(5155),a=s(2115);let n=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,a.useState)({}),[l,o]=(0,a.useState)(1),[d,c]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),[h,g]=(0,a.useState)(null),y=(0,a.useCallback)((e,t)=>{i(s=>({...s,[e]:t})),h&&clearTimeout(h),g(setTimeout(()=>{f()},500))},[h]),f=(0,a.useCallback)(async()=>{c(!0),p(null);try{let e=await fetch("/api/forms/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentStep:l,formData:s})}),t=await e.json();if(!t.success)throw Error(t.error||"Failed to save progress")}catch(e){console.error("Save error:",e),p(e instanceof Error?e.message:"Failed to save")}finally{c(!1)}},[l,s]),b=(0,a.useCallback)(async()=>{x(!0),p(null);try{let e=await fetch("/api/forms/progress"),t=await e.json();t.success&&t.data&&(i(t.data.formData),o(t.data.currentStep))}catch(e){console.error("Load error:",e),p(e instanceof Error?e.message:"Failed to load progress")}finally{x(!1)}},[]),j=(0,a.useCallback)(async()=>{x(!0),p(null);try{let e=await fetch("/api/forms/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await e.json();if(!t.success)throw Error(t.error||"Failed to submit form");i({}),o(1)}catch(e){throw console.error("Submit error:",e),p(e instanceof Error?e.message:"Failed to submit"),e}finally{x(!1)}},[s]);return(0,a.useEffect)(()=>{b()},[b]),(0,a.useEffect)(()=>()=>{h&&clearTimeout(h)},[h]),(0,r.jsx)(n.Provider,{value:{formData:s,currentStep:l,updateFormData:y,setCurrentStep:o,saveProgress:f,loadProgress:b,submitForm:j,isSaving:d,isLoading:m,error:u},children:t})}function l(e){let{currentStep:t,totalSteps:s}=e;return(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Step ",t," of ",s]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[Math.round(t/s*100),"% Complete"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(t/s*100,"%")}})})]})}function o(e){let{currentStep:t,totalSteps:s,onPrevious:a,onNext:n,onSubmit:i,canGoNext:l,isLastStep:o}=e;return(0,r.jsxs)("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[(0,r.jsx)("button",{type:"button",onClick:a,disabled:1===t,className:"px-6 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),o?(0,r.jsx)("button",{type:"button",onClick:i,disabled:!l,className:"px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Review & Submit"}):(0,r.jsx)("button",{type:"button",onClick:n,disabled:!l,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})}function d(e){let{isSaving:t}=e;return(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50",children:t?(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",children:[(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Saving..."})]}):(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Saved"})]})})}function c(e){let{onImport:t}=e,[s,n]=(0,a.useState)(!1),[i,l]=(0,a.useState)(""),[o,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),[x,u]=(0,a.useState)(null),p=async()=>{d(!0),u(null);try{let e=await fetch("/api/ai/autofill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resumeText:i})}),t=await e.json();t.success&&t.data?m(t.data.extracted):u(t.error||"Failed to extract data")}catch(e){u("An error occurred. Please try again."),console.error("Extract error:",e)}finally{d(!1)}};return s?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Import from Resume"}),(0,r.jsx)("button",{onClick:()=>{n(!1),m(null),u(null)},className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-700 text-sm",children:x})}),c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-4","data-testid":"extracted-data",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Extracted Information"}),(0,r.jsxs)("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[c.step1&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-sm text-gray-700 mb-2",children:"Personal Info"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[c.step1.fullName&&(0,r.jsxs)("p",{children:["Name: ",c.step1.fullName]}),c.step1.email&&(0,r.jsxs)("p",{children:["Email: ",c.step1.email]}),c.step1.phone&&(0,r.jsxs)("p",{children:["Phone: ",c.step1.phone]}),c.step1.location&&(0,r.jsxs)("p",{children:["Location: ",c.step1.location]})]})]}),c.step2&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-sm text-gray-700 mb-2",children:"Work Experience"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[c.step2.currentPosition&&(0,r.jsxs)("p",{children:["Position: ",c.step2.currentPosition]}),c.step2.company&&(0,r.jsxs)("p",{children:["Company: ",c.step2.company]}),void 0!==c.step2.yearsOfExperience&&(0,r.jsxs)("p",{children:["Experience: ",c.step2.yearsOfExperience," years"]}),c.step2.keyAchievements&&(0,r.jsxs)("p",{className:"whitespace-pre-wrap",children:["Achievements: ",c.step2.keyAchievements]})]})]}),c.step3&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-sm text-gray-700 mb-2",children:"Skills"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[c.step3.primarySkills&&(0,r.jsxs)("p",{className:"whitespace-pre-wrap",children:["Primary: ",c.step3.primarySkills]}),c.step3.programmingLanguages&&(0,r.jsxs)("p",{children:["Languages: ",c.step3.programmingLanguages]}),c.step3.frameworksAndTools&&(0,r.jsxs)("p",{children:["Frameworks: ",c.step3.frameworksAndTools]})]})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{onClick:()=>{m(null),u(null)},className:"px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Back"}),(0,r.jsx)("button",{onClick:()=>{c&&(t(c),n(!1),l(""),m(null))},className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Accept & Fill Form"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paste your resume text here"}),(0,r.jsx)("textarea",{name:"resumeText",value:i,onChange:e=>l(e.target.value),rows:12,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Paste your resume text here..."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{onClick:()=>{n(!1),l("")},className:"px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,r.jsx)("button",{onClick:p,disabled:o||i.length<50,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Extracting...":"Extract Information"})]})]})]})}):(0,r.jsx)("button",{type:"button",onClick:()=>n(!0),className:"mb-6 w-full py-3 px-4 border-2 border-dashed border-indigo-300 rounded-lg text-indigo-600 font-medium hover:border-indigo-400 hover:bg-indigo-50 transition-colors",children:"\uD83D\uDCC4 Import from Resume"})}var m=s(9762);let x=m.Ikc({fullName:m.YjP().min(2,"Full name must be at least 2 characters"),email:m.YjP().email("Invalid email address"),phone:m.YjP().min(10,"Phone number must be at least 10 characters"),location:m.YjP().min(2,"Location must be at least 2 characters")}),u=m.Ikc({currentPosition:m.YjP().min(2,"Position is required"),company:m.YjP().min(2,"Company name is required"),yearsOfExperience:m.aig().min(0,"Years of experience must be positive").max(70,"Invalid years"),keyAchievements:m.YjP().min(10,"Please provide key achievements (at least 10 characters)")}),p=m.Ikc({primarySkills:m.YjP().min(5,"Please describe your primary skills"),programmingLanguages:m.YjP().min(2,"Please list programming languages"),frameworksAndTools:m.YjP().min(2,"Please list frameworks and tools")}),h=m.Ikc({motivation:m.YjP().min(20,"Please provide more details about your motivation (at least 20 characters)"),startDate:m.YjP().min(1,"Start date is required"),expectedSalary:m.YjP().optional()}),g=m.Ikc({step1:x,step2:u,step3:p,step4:h});function y(e){let{data:t,onChange:s,onValidate:n}=e,[i,l]=(0,a.useState)({});(0,a.useEffect)(()=>{try{x.parse(t),l({}),n(!0)}catch(e){if(e instanceof m.GaX){let t={};e.issues.forEach(e=>{e.path[0]&&(t[e.path[0]]=e.message)}),l(t),n(!1)}}},[t,n]);let o=(e,r)=>{s({...t,[e]:r})};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Personal Information"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Let's start with your basic information"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName||"",onChange:e=>o("fullName",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.fullName?"border-red-500":"border-gray-300"),placeholder:"John Doe"}),i.fullName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.fullName})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:t.email||"",onChange:e=>o("email",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.email?"border-red-500":"border-gray-300"),placeholder:"john@example.com"}),i.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",value:t.phone||"",onChange:e=>o("phone",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.phone?"border-red-500":"border-gray-300"),placeholder:"+1-555-0123"}),i.phone&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:["Location (City, Country) ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"location",name:"location",value:t.location||"",onChange:e=>o("location",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.location?"border-red-500":"border-gray-300"),placeholder:"San Francisco, USA"}),i.location&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.location})]})]})}function f(e){let{text:t,field:s,onAccept:n}=e,[i,l]=(0,a.useState)(!1),[o,d]=(0,a.useState)(null),[c,m]=(0,a.useState)(null),x=async()=>{if(!t||t.trim().length<5)return void m("Please enter at least 5 characters before improving");l(!0),m(null);try{let e=await fetch("/api/ai/improve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,field:s})}),r=await e.json();r.success&&r.data?d(r.data.improved):m(r.error||"Failed to improve text")}catch(e){m("An error occurred. Please try again."),console.error("Improve error:",e)}finally{l(!1)}};return(0,r.jsxs)("div",{className:"mt-2",children:[c&&(0,r.jsx)("div",{className:"mb-2 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:c}),o?(0,r.jsxs)("div",{className:"mt-3 p-4 bg-indigo-50 border border-indigo-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-indigo-900",children:"AI Suggestion"}),(0,r.jsx)("button",{onClick:()=>d(null),className:"text-indigo-600 hover:text-indigo-700 text-xs",children:"✕"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mb-3 whitespace-pre-wrap",children:o}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)("button",{onClick:()=>d(null),className:"px-3 py-1 text-sm border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:"Reject"}),(0,r.jsx)("button",{onClick:()=>{o&&(n(o),d(null))},className:"px-3 py-1 text-sm bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Accept"})]})]}):(0,r.jsx)("button",{type:"button",onClick:x,disabled:i||!t,className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:i?"✨ Improving...":"✨ Improve with AI"})]})}function b(e){let{data:t,onChange:s,onValidate:n}=e,[i,l]=(0,a.useState)({});(0,a.useEffect)(()=>{try{u.parse(t),l({}),n(!0)}catch(e){if(e instanceof m.GaX){let t={};e.issues.forEach(e=>{e.path[0]&&(t[e.path[0]]=e.message)}),l(t),n(!1)}}},[t,n]);let o=(e,r)=>{s({...t,[e]:r})};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Experience"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Tell us about your professional background"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"currentPosition",className:"block text-sm font-medium text-gray-700 mb-2",children:["Current/Last Position ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"currentPosition",name:"currentPosition",value:t.currentPosition||"",onChange:e=>o("currentPosition",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.currentPosition?"border-red-500":"border-gray-300"),placeholder:"Senior Software Engineer"}),i.currentPosition&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.currentPosition})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-2",children:["Company ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"company",name:"company",value:t.company||"",onChange:e=>o("company",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.company?"border-red-500":"border-gray-300"),placeholder:"TechCorp"}),i.company&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.company})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"yearsOfExperience",className:"block text-sm font-medium text-gray-700 mb-2",children:["Years of Experience ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"number",id:"yearsOfExperience",name:"yearsOfExperience",value:t.yearsOfExperience||"",onChange:e=>o("yearsOfExperience",parseInt(e.target.value)||0),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.yearsOfExperience?"border-red-500":"border-gray-300"),placeholder:"5",min:"0",max:"70"}),i.yearsOfExperience&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.yearsOfExperience})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"keyAchievements",className:"block text-sm font-medium text-gray-700 mb-2",children:["Key Achievements ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("textarea",{id:"keyAchievements",name:"keyAchievements",value:t.keyAchievements||"",onChange:e=>o("keyAchievements",e.target.value),rows:5,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.keyAchievements?"border-red-500":"border-gray-300"),placeholder:"• Led development of microservices architecture serving 10M users • Reduced API latency by 60% through optimization • Mentored team of 5 junior engineers"}),i.keyAchievements&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.keyAchievements}),t.keyAchievements&&(0,r.jsx)(f,{text:t.keyAchievements,field:"keyAchievements",onAccept:e=>o("keyAchievements",e)})]})]})}function j(e){let{data:t,onChange:s,onValidate:n}=e,[i,l]=(0,a.useState)({});(0,a.useEffect)(()=>{try{p.parse(t),l({}),n(!0)}catch(e){if(e instanceof m.GaX){let t={};e.issues.forEach(e=>{e.path[0]&&(t[e.path[0]]=e.message)}),l(t),n(!1)}}},[t,n]);let o=(e,r)=>{s({...t,[e]:r})};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Technical Skills"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Showcase your technical expertise"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"primarySkills",className:"block text-sm font-medium text-gray-700 mb-2",children:["Primary Skills ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("textarea",{id:"primarySkills",name:"primarySkills",value:t.primarySkills||"",onChange:e=>o("primarySkills",e.target.value),rows:4,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.primarySkills?"border-red-500":"border-gray-300"),placeholder:"Describe your main technical skills and areas of expertise..."}),i.primarySkills&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.primarySkills}),t.primarySkills&&(0,r.jsx)(f,{text:t.primarySkills,field:"primarySkills",onAccept:e=>o("primarySkills",e)})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"programmingLanguages",className:"block text-sm font-medium text-gray-700 mb-2",children:["Programming Languages ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"programmingLanguages",name:"programmingLanguages",value:t.programmingLanguages||"",onChange:e=>o("programmingLanguages",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.programmingLanguages?"border-red-500":"border-gray-300"),placeholder:"TypeScript, Python, Go, SQL"}),i.programmingLanguages&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.programmingLanguages})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"frameworksAndTools",className:"block text-sm font-medium text-gray-700 mb-2",children:["Frameworks and Tools ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"frameworksAndTools",name:"frameworksAndTools",value:t.frameworksAndTools||"",onChange:e=>o("frameworksAndTools",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.frameworksAndTools?"border-red-500":"border-gray-300"),placeholder:"React, Next.js, FastAPI, PostgreSQL, Docker, Kubernetes"}),i.frameworksAndTools&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.frameworksAndTools})]})]})}function v(e){let{data:t,onChange:s,onValidate:n}=e,[i,l]=(0,a.useState)({});(0,a.useEffect)(()=>{try{h.parse(t),l({}),n(!0)}catch(e){if(e instanceof m.GaX){let t={};e.issues.forEach(e=>{e.path[0]&&(t[e.path[0]]=e.message)}),l(t),n(!1)}}},[t,n]);let o=(e,r)=>{s({...t,[e]:r})};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Motivation"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Tell us why you're excited about this opportunity"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"motivation",className:"block text-sm font-medium text-gray-700 mb-2",children:["Why are you interested in this role? ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("textarea",{id:"motivation",name:"motivation",value:t.motivation||"",onChange:e=>o("motivation",e.target.value),rows:6,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.motivation?"border-red-500":"border-gray-300"),placeholder:"Explain your interest in this position and what motivates you..."}),i.motivation&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.motivation}),t.motivation&&(0,r.jsx)(f,{text:t.motivation,field:"motivation",onAccept:e=>o("motivation",e)})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:["When can you start? ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"startDate",name:"startDate",value:t.startDate||"",onChange:e=>o("startDate",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(i.startDate?"border-red-500":"border-gray-300"),placeholder:"Immediately / 2 weeks notice / Specific date"}),i.startDate&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.startDate})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"expectedSalary",className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Salary (Optional)"}),(0,r.jsx)("input",{type:"text",id:"expectedSalary",name:"expectedSalary",value:t.expectedSalary||"",onChange:e=>o("expectedSalary",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"$120,000 - $150,000"})]})]})}function N(e){let{formData:t,onEdit:s,onSubmit:a}=e;return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Your Application"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Please review all information before submitting"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),(0,r.jsx)("button",{onClick:()=>s(1),className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Edit"})]}),t.step1&&(0,r.jsxs)("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.step1.fullName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.step1.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.step1.phone})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Location"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.step1.location})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Work Experience"}),(0,r.jsx)("button",{onClick:()=>s(2),className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Edit"})]}),t.step2&&(0,r.jsxs)("dl",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Position"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.step2.currentPosition})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Company"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.step2.company})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Years of Experience"}),(0,r.jsxs)("dd",{className:"mt-1 text-sm text-gray-900",children:[t.step2.yearsOfExperience," years"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Key Achievements"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:t.step2.keyAchievements})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Technical Skills"}),(0,r.jsx)("button",{onClick:()=>s(3),className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Edit"})]}),t.step3&&(0,r.jsxs)("dl",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Primary Skills"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:t.step3.primarySkills})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Programming Languages"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.step3.programmingLanguages})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Frameworks and Tools"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.step3.frameworksAndTools})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Motivation"}),(0,r.jsx)("button",{onClick:()=>s(4),className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Edit"})]}),t.step4&&(0,r.jsxs)("dl",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Why this role?"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:t.step4.motivation})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.step4.startDate})]}),t.step4.expectedSalary&&(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Expected Salary"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.step4.expectedSalary})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between pt-6 border-t",children:[(0,r.jsx)("button",{onClick:()=>s(4),className:"px-6 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Back to Edit"}),(0,r.jsx)("button",{onClick:a,className:"px-8 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Submit Application"})]})]})}m.Ikc({email:m.YjP().email("Invalid email address")}),m.Ikc({token:m.YjP().min(1,"Token is required")}),m.Ikc({resumeText:m.YjP().min(50,"Resume text must be at least 50 characters")}),m.Ikc({text:m.YjP().min(5,"Text must be at least 5 characters"),field:m.k5n(["keyAchievements","primarySkills","motivation"])}),m.Ikc({formData:g}),m.Ikc({currentStep:m.aig().min(1).max(4),formData:m.Ikc({step1:x.partial().optional(),step2:u.partial().optional(),step3:p.partial().optional(),step4:h.partial().optional()})});var k=s(63);function w(){let{formData:e,currentStep:t,updateFormData:s,setCurrentStep:i,saveProgress:m,submitForm:x,isSaving:u,isLoading:p}=function(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useForm must be used within a FormProvider");return e}(),[h,g]=(0,a.useState)(!1),[f,w]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),P=(0,k.useRouter)(),E=(0,a.useCallback)(e=>{e.step1&&s("step1",e.step1),e.step2&&s("step2",e.step2),e.step3&&s("step3",e.step3),e.step4&&s("step4",e.step4)},[s]),A=async()=>{await m(),t<4?(i(t+1),g(!1)):w(!0)},L=async()=>{try{await x(),C(!0)}catch(e){console.error("Submit error:",e)}},F=async()=>{await fetch("/api/auth/logout",{method:"POST"}),P.push("/login")};return p?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading your progress..."})]})}):S?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Application Submitted!"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Thank you for your application. We'll review it and get back to you soon."}),(0,r.jsx)("button",{onClick:F,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-indigo-700",children:"Back to Login"})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:[(0,r.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Job Application Form"}),(0,r.jsx)("button",{onClick:F,className:"text-sm text-gray-600 hover:text-gray-900",children:"Logout"})]}),!f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l,{currentStep:t,totalSteps:4}),1===t&&(0,r.jsx)(c,{onImport:E})]}),!f&&1===t&&(0,r.jsx)(y,{data:e.step1||{},onChange:e=>s("step1",e),onValidate:g}),!f&&2===t&&(0,r.jsx)(b,{data:e.step2||{},onChange:e=>s("step2",e),onValidate:g}),!f&&3===t&&(0,r.jsx)(j,{data:e.step3||{},onChange:e=>s("step3",e),onValidate:g}),!f&&4===t&&(0,r.jsx)(v,{data:e.step4||{},onChange:e=>s("step4",e),onValidate:g}),f&&(0,r.jsx)(N,{formData:e,onEdit:e=>{w(!1),i(e),g(!1)},onSubmit:L}),!f&&(0,r.jsx)(o,{currentStep:t,totalSteps:4,onPrevious:()=>{f?w(!1):t>1&&(i(t-1),g(!1))},onNext:A,canGoNext:h,isLastStep:4===t})]})}),(0,r.jsx)(d,{isSaving:u})]})}function S(){return(0,r.jsx)(i,{children:(0,r.jsx)(w,{})})}},7013:(e,t,s)=>{Promise.resolve().then(s.bind(s,850))}},e=>{e.O(0,[45,441,255,358],()=>e(e.s=7013)),_N_E=e.O()}]);